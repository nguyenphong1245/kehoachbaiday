{"openapi":"3.1.0","info":{"title":"AuthApp","version":"0.1.0"},"paths":{"/api/v1/admin/dashboard-stats":{"get":{"tags":["admin"],"summary":"Get Dashboard Stats","description":"Thống kê tổng quan cho admin dashboard","operationId":"get_dashboard_stats_api_v1_admin_dashboard_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardStats"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/all-content":{"get":{"tags":["admin"],"summary":"Get All Content","description":"Lấy danh sách tất cả nội dung trên hệ thống","operationId":"get_all_content_api_v1_admin_all_content_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"content_type","in":"query","required":false,"schema":{"type":"string","default":"all","title":"Content Type"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContentListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/content/{content_type}/{content_id}":{"delete":{"tags":["admin"],"summary":"Delete Content","description":"Admin xóa nội dung không phù hợp","operationId":"delete_content_api_v1_admin_content__content_type___content_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"content_type","in":"path","required":true,"schema":{"type":"string","title":"Content Type"}},{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/token-balance":{"put":{"tags":["admin"],"summary":"Update Token Balance","description":"Admin cập nhật hạn mức token cho người dùng","operationId":"update_token_balance_api_v1_admin_users__user_id__token_balance_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenBalanceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["auth"],"summary":"Register User","operationId":"register_user_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth"],"summary":"Login User","operationId":"login_user_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/student-login":{"post":{"tags":["auth"],"summary":"Student Login","description":"Login for student accounts (username-based, no email validation).","operationId":"student_login_api_v1_auth_student_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentLoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/verify-email":{"post":{"tags":["auth"],"summary":"Verify Email","operationId":"verify_email_api_v1_auth_verify_email_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailVerificationConfirm"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/resend-verification":{"post":{"tags":["auth"],"summary":"Resend Verification","operationId":"resend_verification_api_v1_auth_resend_verification_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailVerificationResend"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/request-password-reset":{"post":{"tags":["auth"],"summary":"Request Password Reset","operationId":"request_password_reset_api_v1_auth_request_password_reset_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/reset-password":{"post":{"tags":["auth"],"summary":"Reset Password","operationId":"reset_password_api_v1_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetConfirm"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["auth"],"summary":"Refresh Tokens","description":"Use refresh_token cookie to issue a new access_token (token rotation).","operationId":"refresh_tokens_api_v1_auth_refresh_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthMessage"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["auth"],"summary":"Logout","description":"Revoke refresh token and clear auth cookies.","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthMessage"}}}}}}},"/api/v1/roles":{"get":{"tags":["roles"],"summary":"List Roles","operationId":"list_roles_api_v1_roles_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RoleRead"},"type":"array","title":"Response List Roles Api V1 Roles Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["roles"],"summary":"Create Role","operationId":"create_role_api_v1_roles_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/roles/{role_id}/permissions":{"post":{"tags":["roles"],"summary":"Set Role Permissions","operationId":"set_role_permissions_api_v1_roles__role_id__permissions_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolePermissionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/permissions":{"get":{"tags":["permissions"],"summary":"List Permissions","operationId":"list_permissions_api_v1_permissions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PermissionRead"},"type":"array","title":"Response List Permissions Api V1 Permissions Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["permissions"],"summary":"Create Permission","operationId":"create_permission_api_v1_permissions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users":{"get":{"tags":["users"],"summary":"List Users","operationId":"list_users_api_v1_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserRead"},"type":"array","title":"Response List Users Api V1 Users Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/{user_id}":{"get":{"tags":["users"],"summary":"Get User","operationId":"get_user_api_v1_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","description":"Delete a user account (admin only)","operationId":"delete_user_api_v1_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/roles":{"put":{"tags":["users"],"summary":"Update User Roles","operationId":"update_user_roles_api_v1_users__user_id__roles_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRoleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/profile":{"get":{"tags":["users"],"summary":"Get User Profile","operationId":"get_user_profile_api_v1_users__user_id__profile_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User Profile","operationId":"update_user_profile_api_v1_users__user_id__profile_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/settings":{"get":{"tags":["users"],"summary":"Get User Settings","operationId":"get_user_settings_api_v1_users__user_id__settings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSettingsRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User Settings","operationId":"update_user_settings_api_v1_users__user_id__settings_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSettingsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSettingsRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me/change-password":{"post":{"tags":["users"],"summary":"Change Password","description":"Change password for current logged-in user","operationId":"change_password_api_v1_users_me_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePassword"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/chat/conversations":{"post":{"tags":["chat"],"summary":"Create Conversation","description":"Create a new conversation with the first message","operationId":"create_conversation_api_v1_chat_conversations_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatConversationCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["chat"],"summary":"List Conversations","description":"List all conversations for current user","operationId":"list_conversations_api_v1_chat_conversations_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"include_archived","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Archived"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatConversationListItem"},"title":"Response List Conversations Api V1 Chat Conversations Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/conversations/{conversation_id}":{"get":{"tags":["chat"],"summary":"Get Conversation","description":"Get a specific conversation with all messages","operationId":"get_conversation_api_v1_chat_conversations__conversation_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","title":"Conversation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatConversationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["chat"],"summary":"Update Conversation","description":"Update conversation (title, archive status)","operationId":"update_conversation_api_v1_chat_conversations__conversation_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatConversationUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatConversationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat"],"summary":"Delete Conversation","description":"Delete a conversation and all its messages","operationId":"delete_conversation_api_v1_chat_conversations__conversation_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","title":"Conversation Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/conversations/{conversation_id}/messages":{"post":{"tags":["chat"],"summary":"Send Message","description":"Send a message in an existing conversation","operationId":"send_message_api_v1_chat_conversations__conversation_id__messages_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/token-balance":{"get":{"tags":["chat"],"summary":"Get Token Balance","description":"Get current user's token balance","operationId":"get_token_balance_api_v1_chat_token_balance_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/lesson-builder/static-data":{"get":{"tags":["lesson-builder"],"summary":"Get Static Data","description":"Lấy dữ liệu tĩnh cho frontend: loại sách, lớp, phương pháp, kỹ thuật","operationId":"get_static_data_api_v1_lesson_builder_static_data_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaticDataResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/lesson-builder/topics":{"get":{"tags":["lesson-builder"],"summary":"Get Topics","description":"Lấy danh sách chủ đề từ Neo4j theo loại sách và lớp","operationId":"get_topics_api_v1_lesson_builder_topics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"book_type","in":"query","required":true,"schema":{"type":"string","title":"Book Type"}},{"name":"grade","in":"query","required":true,"schema":{"type":"string","title":"Grade"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TopicsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lesson-builder/lessons/search":{"post":{"tags":["lesson-builder"],"summary":"Search Lessons","description":"Tìm kiếm bài học từ Neo4j dựa trên loại sách, lớp, chủ đề","operationId":"search_lessons_api_v1_lesson_builder_lessons_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/lesson-builder/lessons/{lesson_id}":{"get":{"tags":["lesson-builder"],"summary":"Get Lesson Detail","description":"Lấy chi tiết bài học bao gồm danh sách chỉ mục","operationId":"get_lesson_detail_api_v1_lesson_builder_lessons__lesson_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lesson_id","in":"path","required":true,"schema":{"type":"string","title":"Lesson Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lesson-builder/generate":{"post":{"tags":["lesson-builder"],"summary":"Generate Lesson Plan","description":"Sinh kế hoạch bài dạy từ thông tin đã chọn.\nTự động lấy tài liệu tham khảo (năng lực, phẩm chất) từ Neo4j.","operationId":"generate_lesson_plan_api_v1_lesson_builder_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateLessonPlanBuilderRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateLessonPlanBuilderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/lesson-builder/generate-stream":{"post":{"tags":["lesson-builder"],"summary":"Generate Lesson Plan Stream","description":"Sinh kế hoạch bài dạy với SSE progress streaming.\nGửi các event: progress (tiến trình) và result (kết quả cuối).","operationId":"generate_lesson_plan_stream_api_v1_lesson_builder_generate_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateLessonPlanBuilderRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/lesson-builder/generate-mindmap":{"post":{"tags":["lesson-builder"],"summary":"Generate Mindmap Endpoint","description":"Sinh sơ đồ tư duy (markdown headings) cho một hoạt động.\nDùng cho nút toolbar \"Sơ đồ tư duy\" trên frontend.","operationId":"generate_mindmap_endpoint_api_v1_lesson_builder_generate_mindmap_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateMindmapRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateMindmapResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/lesson-builder/saved":{"post":{"tags":["lesson-builder"],"summary":"Save Lesson Plan","description":"Lưu giáo án sau khi người dùng chỉnh sửa hoặc khi in","operationId":"save_lesson_plan_api_v1_lesson_builder_saved_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveLessonPlanRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveLessonPlanResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["lesson-builder"],"summary":"Get Saved Lesson Plans","description":"Lấy danh sách giáo án đã lưu của người dùng","operationId":"get_saved_lesson_plans_api_v1_lesson_builder_saved_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":10,"title":"Page Size"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedLessonPlanListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lesson-builder/saved/{lesson_plan_id}":{"get":{"tags":["lesson-builder"],"summary":"Get Saved Lesson Plan","description":"Lấy chi tiết một giáo án đã lưu","operationId":"get_saved_lesson_plan_api_v1_lesson_builder_saved__lesson_plan_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lesson_plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Lesson Plan Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedLessonPlanRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["lesson-builder"],"summary":"Update Saved Lesson Plan","description":"Cập nhật một giáo án đã lưu","operationId":"update_saved_lesson_plan_api_v1_lesson_builder_saved__lesson_plan_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lesson_plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Lesson Plan Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLessonPlanRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedLessonPlanRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["lesson-builder"],"summary":"Delete Saved Lesson Plan","description":"Xóa một giáo án đã lưu","operationId":"delete_saved_lesson_plan_api_v1_lesson_builder_saved__lesson_plan_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lesson_plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Lesson Plan Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lesson-builder/saved/{lesson_plan_id}/print":{"patch":{"tags":["lesson-builder"],"summary":"Mark Lesson Plan Printed","description":"Đánh dấu giáo án đã được in (tăng print_count)","operationId":"mark_lesson_plan_printed_api_v1_lesson_builder_saved__lesson_plan_id__print_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lesson_plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Lesson Plan Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lesson-builder/improve-section":{"post":{"tags":["lesson-builder"],"summary":"Improve Section With Ai","description":"Cải thiện nội dung một section với AI dựa trên yêu cầu của người dùng.\nNếu có phụ lục liên quan, sẽ cập nhật đồng bộ.\nTự động lấy tài liệu tham khảo (năng lực, phẩm chất) từ Neo4j.","operationId":"improve_section_with_ai_api_v1_lesson_builder_improve_section_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImproveSectionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImproveSectionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/worksheets/share":{"post":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Create Shared Worksheet","description":"Tạo phiếu học tập chia sẻ mới","operationId":"create_shared_worksheet_api_v1_worksheets_share_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSharedWorksheetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSharedWorksheetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/worksheets/my-worksheets":{"get":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Get My Shared Worksheets","description":"Lấy danh sách phiếu học tập đã chia sẻ của giáo viên","operationId":"get_my_shared_worksheets_api_v1_worksheets_my_worksheets_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SharedWorksheetListResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/worksheets/{worksheet_id}/responses":{"get":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Get Worksheet Responses","description":"Xem danh sách câu trả lời của học sinh cho một phiếu","operationId":"get_worksheet_responses_api_v1_worksheets__worksheet_id__responses_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"worksheet_id","in":"path","required":true,"schema":{"type":"integer","title":"Worksheet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorksheetResponsesListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/worksheets/{worksheet_id}":{"delete":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Delete Shared Worksheet","description":"Xóa phiếu học tập chia sẻ","operationId":"delete_shared_worksheet_api_v1_worksheets__worksheet_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"worksheet_id","in":"path","required":true,"schema":{"type":"integer","title":"Worksheet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Update Worksheet","description":"Cập nhật nội dung phiếu học tập","operationId":"update_worksheet_api_v1_worksheets__worksheet_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"worksheet_id","in":"path","required":true,"schema":{"type":"integer","title":"Worksheet Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWorksheetRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/worksheets/{worksheet_id}/detail":{"get":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Get Worksheet Detail","description":"Lấy chi tiết phiếu học tập (bao gồm content) - chỉ dành cho chủ sở hữu","operationId":"get_worksheet_detail_api_v1_worksheets__worksheet_id__detail_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"worksheet_id","in":"path","required":true,"schema":{"type":"integer","title":"Worksheet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/worksheets/{worksheet_id}/toggle-active":{"patch":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Toggle Worksheet Active","description":"Bật/tắt trạng thái hoạt động của phiếu","operationId":"toggle_worksheet_active_api_v1_worksheets__worksheet_id__toggle_active_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"worksheet_id","in":"path","required":true,"schema":{"type":"integer","title":"Worksheet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/worksheets/public/{share_code}":{"get":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Get Public Worksheet","description":"Lấy phiếu học tập theo mã chia sẻ (public, không cần đăng nhập)","operationId":"get_public_worksheet_api_v1_worksheets_public__share_code__get","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorksheetPublicResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/worksheets/public/{share_code}/start-session":{"post":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Start Worksheet Session","description":"Bắt đầu phiên làm phiếu học tập - trả về session token","operationId":"start_worksheet_session_api_v1_worksheets_public__share_code__start_session_post","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSessionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/worksheets/public/{share_code}/submit":{"post":{"tags":["shared-worksheets","Shared Worksheets"],"summary":"Submit Worksheet","description":"Học sinh nộp phiếu học tập (public, không cần đăng nhập)","operationId":"submit_worksheet_api_v1_worksheets_public__share_code__submit_post","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitWorksheetRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitWorksheetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/quizzes/":{"post":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Create Shared Quiz","description":"Tạo quiz chia sẻ mới\nHỗ trợ 2 cách:\n1. Gửi questions array trực tiếp (từ LLM JSON)\n2. Gửi content string (parse thủ công)","operationId":"create_shared_quiz_api_v1_quizzes__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSharedQuizRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSharedQuizResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/quizzes/my-quizzes":{"get":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Get My Quizzes","description":"Lấy danh sách quiz đã tạo","operationId":"get_my_quizzes_api_v1_quizzes_my_quizzes_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SharedQuizResponse"},"type":"array","title":"Response Get My Quizzes Api V1 Quizzes My Quizzes Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/quizzes/public/{share_code}":{"get":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Get Public Quiz","description":"Lấy thông tin quiz công khai (cho học sinh)","operationId":"get_public_quiz_api_v1_quizzes_public__share_code__get","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuizPublicResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/quizzes/public/{share_code}/start-session":{"post":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Start Quiz Session","description":"Bắt đầu phiên làm bài - trả về session token","operationId":"start_quiz_session_api_v1_quizzes_public__share_code__start_session_post","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSessionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/quizzes/public/{share_code}/submit":{"post":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Submit Quiz","description":"Nộp bài trắc nghiệm","operationId":"submit_quiz_api_v1_quizzes_public__share_code__submit_post","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitQuizRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitQuizResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/quizzes/{quiz_id}/detail":{"get":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Get Quiz Detail","description":"Lấy chi tiết quiz (bao gồm questions với đáp án đúng) - chỉ dành cho chủ sở hữu","operationId":"get_quiz_detail_api_v1_quizzes__quiz_id__detail_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/quizzes/{quiz_id}":{"patch":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Update Quiz","description":"Cập nhật quiz (câu hỏi, tiêu đề, cài đặt)","operationId":"update_quiz_api_v1_quizzes__quiz_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuizRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Delete Quiz","description":"Xóa quiz","operationId":"delete_quiz_api_v1_quizzes__quiz_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/quizzes/{quiz_id}/toggle-active":{"patch":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Toggle Quiz Active","description":"Bật/tắt trạng thái active của quiz","operationId":"toggle_quiz_active_api_v1_quizzes__quiz_id__toggle_active_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SharedQuizResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/quizzes/{quiz_id}/responses":{"get":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Get Quiz Responses","description":"Xem danh sách bài làm của học sinh","operationId":"get_quiz_responses_api_v1_quizzes__quiz_id__responses_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuizResponsesListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/quizzes/{quiz_id}/statistics":{"get":{"tags":["shared-quizzes","Shared Quizzes"],"summary":"Get Quiz Statistics","description":"Lấy thống kê quiz: điểm trung bình, cao nhất, thấp nhất, phân phối điểm","operationId":"get_quiz_statistics_api_v1_quizzes__quiz_id__statistics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuizStatisticsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lesson-contents":{"get":{"tags":["lesson-contents"],"summary":"Get Lesson Contents","description":"Lấy danh sách nội dung SGK","operationId":"get_lesson_contents_api_v1_lesson_contents_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonContentListItem"},"title":"Response Get Lesson Contents Api V1 Lesson Contents Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lesson-contents/stats":{"get":{"tags":["lesson-contents"],"summary":"Get Lesson Stats","description":"Lấy thống kê bài học","operationId":"get_lesson_stats_api_v1_lesson_contents_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/lesson-contents/{lesson_id}":{"get":{"tags":["lesson-contents"],"summary":"Get Lesson Content","description":"Lấy chi tiết một bài học (bao gồm content đầy đủ)","operationId":"get_lesson_content_api_v1_lesson_contents__lesson_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lesson_id","in":"path","required":true,"schema":{"type":"integer","title":"Lesson Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonContentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["lesson-contents"],"summary":"Update Lesson Content","description":"Cập nhật nội dung bài học","operationId":"update_lesson_content_api_v1_lesson_contents__lesson_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lesson_id","in":"path","required":true,"schema":{"type":"integer","title":"Lesson Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonContentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonContentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["lesson-contents"],"summary":"Delete Lesson Content","description":"Xóa một bài học","operationId":"delete_lesson_content_api_v1_lesson_contents__lesson_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lesson_id","in":"path","required":true,"schema":{"type":"integer","title":"Lesson Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/":{"post":{"tags":["code-exercises","Code Exercises"],"summary":"Create Code Exercise","description":"Tạo bài tập lập trình mới","operationId":"create_code_exercise_api_v1_code_exercises__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCodeExerciseRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCodeExerciseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/code-exercises/my-exercises":{"get":{"tags":["code-exercises","Code Exercises"],"summary":"Get My Exercises","description":"Lấy danh sách bài tập đã tạo","operationId":"get_my_exercises_api_v1_code_exercises_my_exercises_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CodeExerciseResponse"},"type":"array","title":"Response Get My Exercises Api V1 Code Exercises My Exercises Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/code-exercises/{exercise_id}/submissions":{"get":{"tags":["code-exercises","Code Exercises"],"summary":"Get Exercise Submissions","description":"Lấy danh sách bài nộp của học sinh","operationId":"get_exercise_submissions_api_v1_code_exercises__exercise_id__submissions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"exercise_id","in":"path","required":true,"schema":{"type":"integer","title":"Exercise Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/{exercise_id}":{"delete":{"tags":["code-exercises","Code Exercises"],"summary":"Delete Exercise","description":"Xóa bài tập","operationId":"delete_exercise_api_v1_code_exercises__exercise_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"exercise_id","in":"path","required":true,"schema":{"type":"integer","title":"Exercise Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/{exercise_id}/toggle-active":{"patch":{"tags":["code-exercises","Code Exercises"],"summary":"Toggle Exercise Active","description":"Bật/tắt bài tập","operationId":"toggle_exercise_active_api_v1_code_exercises__exercise_id__toggle_active_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"exercise_id","in":"path","required":true,"schema":{"type":"integer","title":"Exercise Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/{exercise_id}/statistics":{"get":{"tags":["code-exercises","Code Exercises"],"summary":"Get Exercise Statistics","description":"Lấy thống kê bài tập lập trình","operationId":"get_exercise_statistics_api_v1_code_exercises__exercise_id__statistics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"exercise_id","in":"path","required":true,"schema":{"type":"integer","title":"Exercise Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/extract-from-lesson":{"post":{"tags":["code-exercises","Code Exercises"],"summary":"Extract Code Exercises From Lesson","description":"Trích xuất bài tập lập trình từ KHBD đã sinh và tạo test cases tự động","operationId":"extract_code_exercises_from_lesson_api_v1_code_exercises_extract_from_lesson_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractCodeExercisesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractCodeExercisesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/code-exercises/public/{share_code}/teacher":{"get":{"tags":["code-exercises","Code Exercises"],"summary":"Get Exercise Teacher View","description":"Lấy thông tin bài tập đầy đủ (cho giáo viên/creator)","operationId":"get_exercise_teacher_view_api_v1_code_exercises_public__share_code__teacher_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeExerciseTeacherView"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/public/{share_code}/update":{"put":{"tags":["code-exercises","Code Exercises"],"summary":"Update Exercise By Share Code","description":"Cập nhật bài tập (chỉ creator)","operationId":"update_exercise_by_share_code_api_v1_code_exercises_public__share_code__update_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCodeExerciseRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/public/{share_code}":{"get":{"tags":["code-exercises","Code Exercises"],"summary":"Get Public Exercise","description":"Lấy thông tin bài tập công khai (cho học sinh)","operationId":"get_public_exercise_api_v1_code_exercises_public__share_code__get","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeExercisePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/public/{share_code}/run":{"post":{"tags":["code-exercises","Code Exercises"],"summary":"Run Code Public","description":"Chạy code thử (không chấm điểm)","operationId":"run_code_public_api_v1_code_exercises_public__share_code__run_post","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunCodeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunCodeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/public/{share_code}/start-session":{"post":{"tags":["code-exercises","Code Exercises"],"summary":"Start Code Session","description":"Bắt đầu phiên làm bài tập code - trả về session token","operationId":"start_code_session_api_v1_code_exercises_public__share_code__start_session_post","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSessionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/public/{share_code}/submit":{"post":{"tags":["code-exercises","Code Exercises"],"summary":"Submit Code","description":"Nộp bài và chấm điểm","operationId":"submit_code_api_v1_code_exercises_public__share_code__submit_post","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitCodeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitCodeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/code-exercises/public/{share_code}/hint":{"post":{"tags":["code-exercises","Code Exercises"],"summary":"Get Hint","description":"Phân tích lỗi tổng hợp cho các test case sai (public, không cần auth)","operationId":"get_hint_api_v1_code_exercises_public__share_code__hint_post","parameters":[{"name":"share_code","in":"path","required":true,"schema":{"type":"string","title":"Share Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HintRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HintResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/classrooms/":{"get":{"tags":["classrooms"],"summary":"List Classrooms","description":"Danh sách lớp học của giáo viên","operationId":"list_classrooms_api_v1_classrooms__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassroomListResponse"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["classrooms"],"summary":"Create Classroom","description":"Tạo lớp học mới","operationId":"create_classroom_api_v1_classrooms__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassroomCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassroomRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/classrooms/{classroom_id}":{"get":{"tags":["classrooms"],"summary":"Get Classroom Detail","description":"Chi tiết lớp học với danh sách học sinh và nhóm","operationId":"get_classroom_detail_api_v1_classrooms__classroom_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassroomDetailRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["classrooms"],"summary":"Update Classroom","description":"Cập nhật thông tin lớp học","operationId":"update_classroom_api_v1_classrooms__classroom_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassroomUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassroomRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["classrooms"],"summary":"Delete Classroom","description":"Xóa lớp học","operationId":"delete_classroom_api_v1_classrooms__classroom_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/classrooms/{classroom_id}/upload-students":{"post":{"tags":["classrooms"],"summary":"Upload Students","description":"Upload file Excel hoặc CSV danh sách học sinh","operationId":"upload_students_api_v1_classrooms__classroom_id__upload_students_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_students_api_v1_classrooms__classroom_id__upload_students_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/classrooms/{classroom_id}/students":{"post":{"tags":["classrooms"],"summary":"Add Student","description":"Thêm 1 học sinh vào lớp","operationId":"add_student_api_v1_classrooms__classroom_id__students_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddStudentRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassStudentRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/classrooms/{classroom_id}/students/{student_id}":{"delete":{"tags":["classrooms"],"summary":"Remove Student","description":"Xóa học sinh khỏi lớp","operationId":"remove_student_api_v1_classrooms__classroom_id__students__student_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}},{"name":"student_id","in":"path","required":true,"schema":{"type":"integer","title":"Student Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/classrooms/{classroom_id}/groups":{"post":{"tags":["classrooms"],"summary":"Create Group","description":"Tạo nhóm mới với danh sách thành viên","operationId":"create_group_api_v1_classrooms__classroom_id__groups_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentGroupRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/classrooms/{classroom_id}/groups/auto-divide":{"post":{"tags":["classrooms"],"summary":"Auto Divide Groups","description":"Tự động chia học sinh thành N nhóm","operationId":"auto_divide_groups_api_v1_classrooms__classroom_id__groups_auto_divide_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkGroupCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkGroupCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/classrooms/{classroom_id}/groups/{group_id}":{"patch":{"tags":["classrooms"],"summary":"Update Group","description":"Cập nhật nhóm (tên, thành viên)","operationId":"update_group_api_v1_classrooms__classroom_id__groups__group_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}},{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentGroupRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["classrooms"],"summary":"Delete Group","description":"Xóa nhóm","operationId":"delete_group_api_v1_classrooms__classroom_id__groups__group_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}},{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/classrooms/{classroom_id}/materials":{"post":{"tags":["classrooms"],"summary":"Add Material To Class","description":"Chuyển học liệu vào danh sách lớp (staging trước khi giao bài)","operationId":"add_material_to_class_api_v1_classrooms__classroom_id__materials_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Data"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["classrooms"],"summary":"List Classroom Materials","description":"Danh sách học liệu đã chuyển vào lớp","operationId":"list_classroom_materials_api_v1_classrooms__classroom_id__materials_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/classrooms/{classroom_id}/materials/{material_id}":{"delete":{"tags":["classrooms"],"summary":"Remove Material From Class","description":"Xóa học liệu khỏi danh sách lớp","operationId":"remove_material_from_class_api_v1_classrooms__classroom_id__materials__material_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}},{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/assignments/":{"post":{"tags":["assignments"],"summary":"Create Assignment","description":"Giao bài cho lớp","operationId":"create_assignment_api_v1_assignments__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/assignments/classroom/{classroom_id}":{"get":{"tags":["assignments"],"summary":"List Assignments","description":"Danh sách bài giao của lớp","operationId":"list_assignments_api_v1_assignments_classroom__classroom_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"classroom_id","in":"path","required":true,"schema":{"type":"integer","title":"Classroom Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/assignments/{assignment_id}":{"get":{"tags":["assignments"],"summary":"Get Assignment","description":"Chi tiết bài giao","operationId":"get_assignment_api_v1_assignments__assignment_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["assignments"],"summary":"Update Assignment","description":"Cập nhật bài giao","operationId":"update_assignment_api_v1_assignments__assignment_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["assignments"],"summary":"Delete Assignment","description":"Xóa bài giao","operationId":"delete_assignment_api_v1_assignments__assignment_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/assignments/{assignment_id}/submissions":{"get":{"tags":["assignments"],"summary":"Get Submissions","description":"Xem danh sách bài nộp","operationId":"get_submissions_api_v1_assignments__assignment_id__submissions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/student/dashboard":{"get":{"tags":["student"],"summary":"Student Dashboard","description":"Dashboard học sinh - lấy lớp và bài được giao","operationId":"student_dashboard_api_v1_student_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentDashboardResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/student/assignments/{assignment_id}":{"get":{"tags":["student"],"summary":"Get Assignment Detail","description":"Chi tiết bài giao + nội dung cho học sinh","operationId":"get_assignment_detail_api_v1_student_assignments__assignment_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentContentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/student/assignments/{assignment_id}/my-group":{"get":{"tags":["student"],"summary":"Get My Group","description":"Thông tin nhóm của HS cho bài này","operationId":"get_my_group_api_v1_student_assignments__assignment_id__my_group_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MyGroupInfo"},{"type":"null"}],"title":"Response Get My Group Api V1 Student Assignments  Assignment Id  My Group Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/student/assignments/{assignment_id}/start-session":{"post":{"tags":["student"],"summary":"Start Work Session","description":"Tạo hoặc lấy phiên làm bài","operationId":"start_work_session_api_v1_student_assignments__assignment_id__start_session_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/student/assignments/{assignment_id}/submit":{"post":{"tags":["student"],"summary":"Submit Assignment","description":"Nộp bài","operationId":"submit_assignment_api_v1_student_assignments__assignment_id__submit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitAnswersRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/student/assignments/{assignment_id}/work-session":{"get":{"tags":["student"],"summary":"Get Work Session","description":"Lấy state phiên làm bài hiện tại (cho refresh)","operationId":"get_work_session_api_v1_student_assignments__assignment_id__work_session_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/student/assignments/{assignment_id}/discussion":{"get":{"tags":["student"],"summary":"Get Discussion","description":"Lấy tin nhắn chat cũ của nhóm","operationId":"get_discussion_api_v1_student_assignments__assignment_id__discussion_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/student/change-password":{"post":{"tags":["student"],"summary":"Change Password","description":"Đổi mật khẩu mặc định","operationId":"change_password_api_v1_student_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/peer-review/assignments/{assignment_id}/activate":{"post":{"tags":["peer-review"],"summary":"Activate Peer Review","description":"Kích hoạt tráo bài - tạo pairings","operationId":"activate_peer_review_api_v1_peer_review_assignments__assignment_id__activate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PeerReviewRoundInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/peer-review/assignments/{assignment_id}/status":{"get":{"tags":["peer-review"],"summary":"Get Peer Review Status","description":"Xem tiến độ đánh giá","operationId":"get_peer_review_status_api_v1_peer_review_assignments__assignment_id__status_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PeerReviewRoundInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/peer-review/assignments/{assignment_id}/complete":{"post":{"tags":["peer-review"],"summary":"Complete Peer Review","description":"Kết thúc vòng đánh giá","operationId":"complete_peer_review_api_v1_peer_review_assignments__assignment_id__complete_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/peer-review/assignments/{assignment_id}/reviews":{"get":{"tags":["peer-review"],"summary":"Get All Reviews","description":"Xem tất cả reviews (giáo viên)","operationId":"get_all_reviews_api_v1_peer_review_assignments__assignment_id__reviews_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/peer-review/my-review/{assignment_id}":{"get":{"tags":["peer-review"],"summary":"Get My Review Task","description":"Xem bài cần chấm (student)","operationId":"get_my_review_task_api_v1_peer_review_my_review__assignment_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/peer-review/{review_id}/submit":{"post":{"tags":["peer-review"],"summary":"Submit Peer Review","description":"Nộp nhận xét + điểm","operationId":"submit_peer_review_api_v1_peer_review__review_id__submit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"review_id","in":"path","required":true,"schema":{"type":"integer","title":"Review Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PeerReviewSubmitRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/peer-review/my-feedback/{assignment_id}":{"get":{"tags":["peer-review"],"summary":"Get My Feedback","description":"Xem nhận xét nhận được","operationId":"get_my_feedback_api_v1_peer_review_my_feedback__assignment_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["health"],"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Health Check Health Get"}}}}}}}},"components":{"schemas":{"ActivityConfig":{"properties":{"activity_name":{"type":"string","maxLength":200,"title":"Activity Name","description":"Tên hoạt động"},"activity_type":{"type":"string","title":"Activity Type","description":"Loại hoạt động: khoi_dong, hinh_thanh_kien_thuc, luyen_tap, van_dung"},"chi_muc":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Chi Muc","description":"Tên chỉ mục (cho hoạt động hình thành kiến thức)"},"selected_methods":{"items":{"type":"string"},"type":"array","title":"Selected Methods","description":"Phương pháp đã chọn"},"selected_techniques":{"items":{"type":"string"},"type":"array","title":"Selected Techniques","description":"Kỹ thuật đã chọn"},"methods_content":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Methods Content","description":"Nội dung cách tổ chức phương pháp {tên: nội dung}"},"techniques_content":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Techniques Content","description":"Nội dung cách tổ chức kỹ thuật {tên: nội dung}"},"activity_format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Activity Format","description":"Hình thức: trac_nghiem, phieu_hoc_tap, bai_tap_code"},"custom_request":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Custom Request","description":"Yêu cầu bổ sung của người dùng cho hoạt động này"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location","description":"Vị trí dạy học: lop_hoc (Lớp học), phong_may (Phòng máy)","default":"lop_hoc"}},"type":"object","required":["activity_name","activity_type"],"title":"ActivityConfig","description":"Cấu hình cho mỗi hoạt động"},"AddStudentRequest":{"properties":{"full_name":{"type":"string","maxLength":255,"title":"Full Name"},"student_code":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Student Code"},"date_of_birth":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date Of Birth","description":"Ngày sinh DD/MM/YYYY"}},"type":"object","required":["full_name"],"title":"AddStudentRequest"},"AssignmentContentResponse":{"properties":{"assignment":{"$ref":"#/components/schemas/StudentAssignmentInfo"},"content":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Content"},"my_group":{"anyOf":[{"$ref":"#/components/schemas/MyGroupInfo"},{"type":"null"}]},"work_session":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Work Session"}},"type":"object","required":["assignment"],"title":"AssignmentContentResponse"},"AssignmentCreate":{"properties":{"classroom_id":{"type":"integer","title":"Classroom Id"},"content_type":{"type":"string","title":"Content Type","description":"'worksheet', 'quiz', 'code_exercise'"},"content_id":{"type":"integer","title":"Content Id"},"title":{"type":"string","maxLength":500,"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"work_type":{"type":"string","title":"Work Type","description":"'individual' hoặc 'group'","default":"individual"},"lesson_plan_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Lesson Plan Id"},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info"},"due_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due Date"}},"type":"object","required":["classroom_id","content_type","content_id","title"],"title":"AssignmentCreate"},"AssignmentListResponse":{"properties":{"assignments":{"items":{"$ref":"#/components/schemas/AssignmentRead"},"type":"array","title":"Assignments"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["assignments","total"],"title":"AssignmentListResponse"},"AssignmentRead":{"properties":{"id":{"type":"integer","title":"Id"},"classroom_id":{"type":"integer","title":"Classroom Id"},"classroom_name":{"type":"string","title":"Classroom Name","default":""},"content_type":{"type":"string","title":"Content Type"},"content_id":{"type":"integer","title":"Content Id"},"content_title":{"type":"string","title":"Content Title","default":""},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"work_type":{"type":"string","title":"Work Type"},"is_active":{"type":"boolean","title":"Is Active"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info"},"peer_review_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Peer Review Status"},"submission_count":{"type":"integer","title":"Submission Count","default":0},"total_students":{"type":"integer","title":"Total Students","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","classroom_id","content_type","content_id","title","description","work_type","is_active","due_date","lesson_info","peer_review_status","created_at","updated_at"],"title":"AssignmentRead"},"AssignmentUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"work_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Work Type"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"due_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due Date"}},"type":"object","title":"AssignmentUpdate"},"AuthMessage":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"AuthMessage"},"Body_upload_students_api_v1_classrooms__classroom_id__upload_students_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_students_api_v1_classrooms__classroom_id__upload_students_post"},"BulkGroupCreateRequest":{"properties":{"num_groups":{"type":"integer","exclusiveMinimum":0.0,"title":"Num Groups","description":"Số nhóm muốn chia"},"method":{"type":"string","title":"Method","description":"Cách chia: 'sequential' hoặc 'random'","default":"sequential"}},"type":"object","required":["num_groups"],"title":"BulkGroupCreateRequest"},"BulkGroupCreateResponse":{"properties":{"groups":{"items":{"$ref":"#/components/schemas/StudentGroupRead"},"type":"array","title":"Groups"},"message":{"type":"string","title":"Message"}},"type":"object","required":["groups","message"],"title":"BulkGroupCreateResponse"},"ChangePassword":{"properties":{"old_password":{"type":"string","title":"Old Password"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["old_password","new_password"],"title":"ChangePassword"},"ChangePasswordRequest":{"properties":{"current_password":{"type":"string","title":"Current Password"},"new_password":{"type":"string","minLength":8,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"ChangePasswordRequest"},"ChatConversationCreate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"first_message":{"type":"string","maxLength":100000,"minLength":1,"title":"First Message"}},"type":"object","required":["first_message"],"title":"ChatConversationCreate"},"ChatConversationListItem":{"properties":{"id":{"type":"string","title":"Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"is_archived":{"type":"boolean","title":"Is Archived"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"message_count":{"type":"integer","title":"Message Count","default":0},"last_message_preview":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Message Preview"}},"type":"object","required":["id","is_archived","created_at","updated_at"],"title":"ChatConversationListItem"},"ChatConversationRead":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"is_archived":{"type":"boolean","title":"Is Archived","default":false},"id":{"type":"string","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"messages":{"items":{"$ref":"#/components/schemas/ChatMessageRead"},"type":"array","title":"Messages","default":[]}},"type":"object","required":["id","user_id","created_at","updated_at"],"title":"ChatConversationRead"},"ChatConversationUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"is_archived":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Archived"}},"type":"object","title":"ChatConversationUpdate"},"ChatMessageCreate":{"properties":{"content":{"type":"string","maxLength":100000,"minLength":1,"title":"Content"}},"type":"object","required":["content"],"title":"ChatMessageCreate"},"ChatMessageRead":{"properties":{"content":{"type":"string","maxLength":100000,"minLength":1,"title":"Content"},"role":{"$ref":"#/components/schemas/MessageRole"},"id":{"type":"string","title":"Id"},"conversation_id":{"type":"string","title":"Conversation Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["content","role","id","conversation_id","created_at"],"title":"ChatMessageRead"},"ChatResponse":{"properties":{"message":{"$ref":"#/components/schemas/ChatMessageRead"},"conversation":{"$ref":"#/components/schemas/ChatConversationRead"}},"type":"object","required":["message","conversation"],"title":"ChatResponse"},"ChiMucInfo":{"properties":{"order":{"type":"integer","title":"Order","description":"Số thứ tự chi mục"},"content":{"type":"string","title":"Content","description":"Nội dung chi mục"}},"type":"object","required":["order","content"],"title":"ChiMucInfo","description":"Thông tin chi mục của bài học"},"ClassStudentRead":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"student_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Code"},"student_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Student Number"},"full_name":{"type":"string","title":"Full Name"},"date_of_birth":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date Of Birth"},"email":{"type":"string","title":"Email","default":""},"joined_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Joined At"}},"type":"object","required":["id","user_id","student_code","student_number","full_name","date_of_birth"],"title":"ClassStudentRead"},"ClassroomCreate":{"properties":{"name":{"type":"string","maxLength":100,"title":"Name","description":"Tên lớp (VD: 10A1)"},"grade":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Grade","description":"Khối (10, 11, 12)"},"school_year":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"School Year","description":"Năm học (2025-2026)"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"ClassroomCreate"},"ClassroomDetailRead":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"school_year":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"School Year"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"students":{"items":{"$ref":"#/components/schemas/ClassStudentRead"},"type":"array","title":"Students","default":[]},"groups":{"items":{"$ref":"#/components/schemas/StudentGroupRead"},"type":"array","title":"Groups","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","name","grade","school_year","description","created_at"],"title":"ClassroomDetailRead"},"ClassroomListResponse":{"properties":{"classrooms":{"items":{"$ref":"#/components/schemas/ClassroomRead"},"type":"array","title":"Classrooms"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["classrooms","total"],"title":"ClassroomListResponse"},"ClassroomRead":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"school_year":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"School Year"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"student_count":{"type":"integer","title":"Student Count","default":0},"group_count":{"type":"integer","title":"Group Count","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","name","grade","school_year","description","created_at"],"title":"ClassroomRead"},"ClassroomUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Name"},"grade":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Grade"},"school_year":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"School Year"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"ClassroomUpdate"},"CodeExercisePublic":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"language":{"type":"string","title":"Language"},"problem_statement":{"type":"string","title":"Problem Statement"},"starter_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Starter Code"},"test_cases":{"items":{"$ref":"#/components/schemas/TestCasePublic"},"type":"array","title":"Test Cases"},"time_limit_seconds":{"type":"integer","title":"Time Limit Seconds"}},"type":"object","required":["title","description","language","problem_statement","starter_code","test_cases","time_limit_seconds"],"title":"CodeExercisePublic","description":"Thông tin bài tập công khai (cho học sinh)"},"CodeExerciseResponse":{"properties":{"id":{"type":"integer","title":"Id"},"share_code":{"type":"string","title":"Share Code"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"language":{"type":"string","title":"Language"},"total_test_cases":{"type":"integer","title":"Total Test Cases"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"is_active":{"type":"boolean","title":"Is Active"},"submission_count":{"type":"integer","title":"Submission Count"},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info"}},"type":"object","required":["id","share_code","title","description","language","total_test_cases","created_at","expires_at","is_active","submission_count"],"title":"CodeExerciseResponse","description":"Thông tin bài tập (cho giáo viên)"},"CodeExerciseTeacherView":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"language":{"type":"string","title":"Language"},"problem_statement":{"type":"string","title":"Problem Statement"},"starter_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Starter Code"},"test_cases":{"items":{"$ref":"#/components/schemas/TestCaseInput"},"type":"array","title":"Test Cases"},"time_limit_seconds":{"type":"integer","title":"Time Limit Seconds"}},"type":"object","required":["title","description","language","problem_statement","starter_code","test_cases","time_limit_seconds"],"title":"CodeExerciseTeacherView","description":"Thông tin bài tập đầy đủ (cho giáo viên/creator)"},"ContentItem":{"properties":{"id":{"type":"integer","title":"Id"},"type":{"type":"string","title":"Type"},"title":{"type":"string","title":"Title"},"creator_email":{"type":"string","title":"Creator Email"},"creator_id":{"type":"integer","title":"Creator Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"response_count":{"type":"integer","title":"Response Count","default":0},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info"},"share_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Share Code"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"}},"type":"object","required":["id","type","title","creator_email","creator_id","created_at"],"title":"ContentItem"},"ContentListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ContentItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"limit":{"type":"integer","title":"Limit"}},"type":"object","required":["items","total","page","limit"],"title":"ContentListResponse"},"CreateCodeExerciseRequest":{"properties":{"title":{"type":"string","maxLength":500,"minLength":1,"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"language":{"type":"string","pattern":"^(python|javascript|java|cpp|c)$","title":"Language","default":"python"},"problem_statement":{"type":"string","minLength":1,"title":"Problem Statement"},"starter_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Starter Code"},"test_cases":{"items":{"$ref":"#/components/schemas/TestCaseInput"},"type":"array","minItems":1,"title":"Test Cases"},"time_limit_seconds":{"type":"integer","maximum":30.0,"minimum":1.0,"title":"Time Limit Seconds","default":5},"memory_limit_mb":{"type":"integer","maximum":512.0,"minimum":16.0,"title":"Memory Limit Mb","default":128},"expires_in_days":{"type":"integer","maximum":365.0,"minimum":1.0,"title":"Expires In Days","default":30},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info"}},"type":"object","required":["title","problem_statement","test_cases"],"title":"CreateCodeExerciseRequest","description":"Request tạo bài tập lập trình"},"CreateCodeExerciseResponse":{"properties":{"exercise_id":{"type":"integer","title":"Exercise Id"},"share_code":{"type":"string","title":"Share Code"},"share_url":{"type":"string","title":"Share Url"},"title":{"type":"string","title":"Title"},"total_test_cases":{"type":"integer","title":"Total Test Cases"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"}},"type":"object","required":["exercise_id","share_code","share_url","title","total_test_cases","expires_at"],"title":"CreateCodeExerciseResponse","description":"Response sau khi tạo bài tập"},"CreateSharedQuizRequest":{"properties":{"title":{"type":"string","maxLength":500,"minLength":1,"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"questions":{"anyOf":[{"items":{"$ref":"#/components/schemas/QuizQuestionInput"},"type":"array"},{"type":"null"}],"title":"Questions"},"time_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Limit"},"expires_in_days":{"type":"integer","maximum":365.0,"minimum":1.0,"title":"Expires In Days","default":30},"show_correct_answers":{"type":"boolean","title":"Show Correct Answers","default":false},"allow_multiple_attempts":{"type":"boolean","title":"Allow Multiple Attempts","default":false},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info"}},"type":"object","required":["title"],"title":"CreateSharedQuizRequest","description":"Request tạo quiz chia sẻ"},"CreateSharedQuizResponse":{"properties":{"quiz_id":{"type":"integer","title":"Quiz Id"},"share_code":{"type":"string","title":"Share Code"},"share_url":{"type":"string","title":"Share Url"},"title":{"type":"string","title":"Title"},"total_questions":{"type":"integer","title":"Total Questions"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"}},"type":"object","required":["quiz_id","share_code","share_url","title","total_questions","expires_at"],"title":"CreateSharedQuizResponse","description":"Response sau khi tạo quiz"},"CreateSharedWorksheetRequest":{"properties":{"title":{"type":"string","title":"Title","description":"Tiêu đề phiếu học tập"},"content":{"type":"string","title":"Content","description":"Nội dung markdown của phiếu"},"lesson_info":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Lesson Info","description":"Thông tin bài học"},"expires_hours":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expires Hours","description":"Số giờ hết hạn (None = không hết hạn)"},"max_submissions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Submissions","description":"Số lượt submit tối đa"}},"type":"object","required":["title","content"],"title":"CreateSharedWorksheetRequest","description":"Request tạo phiếu học tập chia sẻ"},"CreateSharedWorksheetResponse":{"properties":{"id":{"type":"integer","title":"Id"},"share_code":{"type":"string","title":"Share Code"},"share_url":{"type":"string","title":"Share Url"},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"}},"type":"object","required":["id","share_code","share_url","title","message"],"title":"CreateSharedWorksheetResponse","description":"Response sau khi tạo phiếu chia sẻ"},"DashboardStats":{"properties":{"total_users":{"type":"integer","title":"Total Users"},"active_users":{"type":"integer","title":"Active Users"},"verified_users":{"type":"integer","title":"Verified Users"},"total_lesson_plans":{"type":"integer","title":"Total Lesson Plans"},"total_quizzes":{"type":"integer","title":"Total Quizzes"},"total_worksheets":{"type":"integer","title":"Total Worksheets"},"total_code_exercises":{"type":"integer","title":"Total Code Exercises"},"total_quiz_responses":{"type":"integer","title":"Total Quiz Responses"},"total_worksheet_responses":{"type":"integer","title":"Total Worksheet Responses"},"total_code_submissions":{"type":"integer","title":"Total Code Submissions"},"recent_users":{"items":{"$ref":"#/components/schemas/RecentUser"},"type":"array","title":"Recent Users"},"top_teachers":{"items":{"$ref":"#/components/schemas/TopTeacher"},"type":"array","title":"Top Teachers"}},"type":"object","required":["total_users","active_users","verified_users","total_lesson_plans","total_quizzes","total_worksheets","total_code_exercises","total_quiz_responses","total_worksheet_responses","total_code_submissions","recent_users","top_teachers"],"title":"DashboardStats"},"EmailVerificationConfirm":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"token":{"type":"string","title":"Token"}},"type":"object","required":["email","token"],"title":"EmailVerificationConfirm"},"EmailVerificationResend":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"EmailVerificationResend"},"ExtractCodeExercisesRequest":{"properties":{"lesson_plan_content":{"type":"string","minLength":1,"title":"Lesson Plan Content","description":"Nội dung KHBD (markdown)"},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info","description":"Thông tin bài học"},"auto_create":{"type":"boolean","title":"Auto Create","description":"Tự động tạo CodeExercise sau khi trích xuất","default":false},"expires_in_days":{"type":"integer","maximum":365.0,"minimum":1.0,"title":"Expires In Days","default":30}},"type":"object","required":["lesson_plan_content"],"title":"ExtractCodeExercisesRequest","description":"Request trích xuất bài tập code từ KHBD"},"ExtractCodeExercisesResponse":{"properties":{"found":{"type":"boolean","title":"Found"},"exercises":{"items":{"$ref":"#/components/schemas/ExtractedExerciseItem"},"type":"array","title":"Exercises","default":[]},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"},"created_exercises":{"anyOf":[{"items":{"$ref":"#/components/schemas/CreateCodeExerciseResponse"},"type":"array"},{"type":"null"}],"title":"Created Exercises"}},"type":"object","required":["found"],"title":"ExtractCodeExercisesResponse","description":"Response trích xuất bài tập code"},"ExtractedExerciseItem":{"properties":{"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"source_activity":{"type":"string","title":"Source Activity"},"language":{"type":"string","title":"Language","default":"python"},"starter_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Starter Code"},"test_cases":{"items":{"$ref":"#/components/schemas/TestCaseInput"},"type":"array","title":"Test Cases"},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info"}},"type":"object","required":["title","description","source_activity","test_cases"],"title":"ExtractedExerciseItem","description":"Bài tập đã trích xuất từ KHBD"},"FailedTestInfo":{"properties":{"test_num":{"type":"integer","title":"Test Num"},"input":{"type":"string","title":"Input"},"expected_output":{"type":"string","title":"Expected Output"},"actual_output":{"type":"string","title":"Actual Output"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["test_num","input","expected_output","actual_output"],"title":"FailedTestInfo","description":"Thông tin 1 test case sai"},"GenerateLessonPlanBuilderRequest":{"properties":{"book_type":{"type":"string","title":"Book Type","description":"Loại sách"},"grade":{"type":"string","title":"Grade","description":"Lớp"},"topic":{"type":"string","title":"Topic","description":"Chủ đề"},"lesson_id":{"type":"string","title":"Lesson Id","description":"ID bài học"},"lesson_name":{"type":"string","title":"Lesson Name","description":"Tên bài học"},"activities":{"items":{"$ref":"#/components/schemas/ActivityConfig"},"type":"array","title":"Activities","description":"Cấu hình các hoạt động"}},"type":"object","required":["book_type","grade","topic","lesson_id","lesson_name","activities"],"title":"GenerateLessonPlanBuilderRequest","description":"Request để sinh kế hoạch bài dạy từ builder"},"GenerateLessonPlanBuilderResponse":{"properties":{"lesson_info":{"additionalProperties":{"type":"string"},"type":"object","title":"Lesson Info","description":"Thông tin bài học: book_type, grade, topic, lesson_name"},"sections":{"items":{"$ref":"#/components/schemas/LessonPlanSection"},"type":"array","title":"Sections","description":"Các section của kế hoạch"},"full_content":{"type":"string","title":"Full Content","description":"Nội dung đầy đủ dạng Markdown"}},"type":"object","required":["lesson_info","sections","full_content"],"title":"GenerateLessonPlanBuilderResponse","description":"Response chứa các section của kế hoạch bài dạy"},"GenerateMindmapRequest":{"properties":{"lesson_id":{"type":"string","title":"Lesson Id","description":"ID bài học từ Neo4j"},"lesson_name":{"type":"string","title":"Lesson Name","description":"Tên bài học"},"activity_content":{"type":"string","title":"Activity Content","description":"Nội dung hoạt động"},"activity_name":{"type":"string","title":"Activity Name","description":"Tên hoạt động"}},"type":"object","required":["lesson_id","lesson_name","activity_content","activity_name"],"title":"GenerateMindmapRequest","description":"Request để sinh sơ đồ tư duy cho một hoạt động"},"GenerateMindmapResponse":{"properties":{"mindmap_data":{"type":"string","title":"Mindmap Data","description":"Markdown headings cho Markmap"}},"type":"object","required":["mindmap_data"],"title":"GenerateMindmapResponse","description":"Response chứa dữ liệu sơ đồ tư duy"},"GroupCreateRequest":{"properties":{"name":{"type":"string","maxLength":100,"title":"Name","description":"Tên nhóm"},"student_ids":{"items":{"type":"integer"},"type":"array","title":"Student Ids","description":"Danh sách class_student.id","default":[]}},"type":"object","required":["name"],"title":"GroupCreateRequest"},"GroupMemberInfo":{"properties":{"student_id":{"type":"integer","title":"Student Id"},"full_name":{"type":"string","title":"Full Name"},"student_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Code"}},"type":"object","required":["student_id","full_name"],"title":"GroupMemberInfo"},"GroupMemberRead":{"properties":{"id":{"type":"integer","title":"Id"},"student_id":{"type":"integer","title":"Student Id"},"full_name":{"type":"string","title":"Full Name","default":""},"student_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Code"}},"type":"object","required":["id","student_id"],"title":"GroupMemberRead"},"GroupUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Name"},"student_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Student Ids"}},"type":"object","title":"GroupUpdateRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HintRequest":{"properties":{"code":{"type":"string","maxLength":50000,"minLength":1,"title":"Code"},"failed_tests":{"items":{"$ref":"#/components/schemas/FailedTestInfo"},"type":"array","maxItems":20,"minItems":1,"title":"Failed Tests"}},"type":"object","required":["code","failed_tests"],"title":"HintRequest","description":"Request phân tích lỗi tổng hợp"},"HintResponse":{"properties":{"hint":{"type":"string","title":"Hint"}},"type":"object","required":["hint"],"title":"HintResponse","description":"Response phân tích lỗi"},"ImproveSectionRequest":{"properties":{"section_type":{"type":"string","title":"Section Type","description":"Loại section: muc_tieu, thiet_bi, khoi_dong, hinh_thanh_kien_thuc, luyen_tap, van_dung"},"section_title":{"type":"string","maxLength":500,"title":"Section Title","description":"Tiêu đề section"},"current_content":{"type":"string","title":"Current Content","description":"Nội dung hiện tại của section"},"user_request":{"type":"string","maxLength":2000,"title":"User Request","description":"Yêu cầu cải thiện từ người dùng"},"lesson_info":{"additionalProperties":{"type":"string"},"type":"object","title":"Lesson Info","description":"Thông tin bài học: book_type, grade, topic, lesson_name"},"related_appendices":{"anyOf":[{"items":{"$ref":"#/components/schemas/RelatedAppendix"},"type":"array"},{"type":"null"}],"title":"Related Appendices","description":"Các phụ lục liên quan cần cập nhật cùng"}},"type":"object","required":["section_type","section_title","current_content","user_request","lesson_info"],"title":"ImproveSectionRequest","description":"Request để AI cải thiện một section"},"ImproveSectionResponse":{"properties":{"improved_content":{"type":"string","title":"Improved Content","description":"Nội dung đã được cải thiện"},"explanation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explanation","description":"Giải thích về những thay đổi"},"updated_appendices":{"anyOf":[{"items":{"$ref":"#/components/schemas/UpdatedAppendix"},"type":"array"},{"type":"null"}],"title":"Updated Appendices","description":"Các phụ lục đã được cập nhật"}},"type":"object","required":["improved_content"],"title":"ImproveSectionResponse","description":"Response nội dung section đã được cải thiện"},"LessonBasicInfo":{"properties":{"id":{"type":"string","title":"Id","description":"ID bài học từ Neo4j"},"name":{"type":"string","title":"Name","description":"Tên bài học"},"lesson_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lesson Type","description":"Loại bài (Lý thuyết, Thực hành...)"}},"type":"object","required":["id","name"],"title":"LessonBasicInfo","description":"Thông tin cơ bản của bài học"},"LessonContentListItem":{"properties":{"id":{"type":"integer","title":"Id"},"neo4j_lesson_id":{"type":"string","title":"Neo4J Lesson Id"},"lesson_name":{"type":"string","title":"Lesson Name"},"content_preview":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Preview"}},"type":"object","required":["id","neo4j_lesson_id","lesson_name"],"title":"LessonContentListItem","description":"Schema nhẹ cho list view - không bao gồm content đầy đủ"},"LessonContentResponse":{"properties":{"neo4j_lesson_id":{"type":"string","title":"Neo4J Lesson Id"},"lesson_name":{"type":"string","title":"Lesson Name"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["neo4j_lesson_id","lesson_name","id"],"title":"LessonContentResponse"},"LessonContentUpdate":{"properties":{"lesson_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lesson Name"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"}},"type":"object","title":"LessonContentUpdate"},"LessonDetailResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"grade":{"type":"string","title":"Grade"},"book_type":{"type":"string","title":"Book Type"},"topic":{"type":"string","title":"Topic"},"lesson_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lesson Type"},"objectives":{"items":{"type":"string"},"type":"array","title":"Objectives","description":"Mục tiêu"},"competencies":{"items":{"type":"string"},"type":"array","title":"Competencies","description":"Năng lực chính"},"supporting_competencies":{"items":{"type":"string"},"type":"array","title":"Supporting Competencies","description":"Năng lực hỗ trợ"},"chi_muc_list":{"items":{"$ref":"#/components/schemas/ChiMucInfo"},"type":"array","title":"Chi Muc List","description":"Danh sách chỉ mục"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Nội dung bài học"},"orientation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Orientation","description":"Định hướng"}},"type":"object","required":["id","name","grade","book_type","topic"],"title":"LessonDetailResponse","description":"Chi tiết bài học để hiển thị cấu trúc"},"LessonPlanSection":{"properties":{"section_id":{"type":"string","title":"Section Id","description":"ID duy nhất của section"},"section_type":{"type":"string","title":"Section Type","description":"Loại section: muc_tieu, thiet_bi, khoi_dong, hinh_thanh_kien_thuc_X, luyen_tap, van_dung, phieu_hoc_tap, trac_nghiem"},"title":{"type":"string","title":"Title","description":"Tiêu đề section"},"content":{"type":"string","title":"Content","description":"Nội dung section (Markdown)","default":""},"questions":{"anyOf":[{"items":{"$ref":"#/components/schemas/QuizQuestionItem"},"type":"array"},{"type":"null"}],"title":"Questions","description":"Danh sách câu hỏi (chỉ cho trac_nghiem)"},"mindmap_data":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mindmap Data","description":"Dữ liệu sơ đồ tư duy (Markdown headings cho Markmap)"},"editable":{"type":"boolean","title":"Editable","description":"Có thể chỉnh sửa không","default":true}},"type":"object","required":["section_id","section_type","title"],"title":"LessonPlanSection","description":"Một phần/ô trong kế hoạch bài dạy output"},"LessonSearchRequest":{"properties":{"book_type":{"type":"string","title":"Book Type","description":"Loại sách (KNTT, CTST, CD)"},"grade":{"type":"string","title":"Grade","description":"Lớp (10, 11, 12)"},"topic":{"type":"string","title":"Topic","description":"Chủ đề"}},"type":"object","required":["book_type","grade","topic"],"title":"LessonSearchRequest","description":"Request để tìm bài học từ Neo4j"},"LessonSearchResponse":{"properties":{"lessons":{"items":{"$ref":"#/components/schemas/LessonBasicInfo"},"type":"array","title":"Lessons"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","title":"LessonSearchResponse","description":"Response danh sách bài học"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest"},"LoginResponse":{"properties":{"user":{"$ref":"#/components/schemas/UserRead"}},"type":"object","required":["user"],"title":"LoginResponse","description":"Response for login — tokens are sent via httpOnly cookies."},"MessageRole":{"type":"string","enum":["user","assistant","system"],"title":"MessageRole"},"MyGroupInfo":{"properties":{"group_id":{"type":"integer","title":"Group Id"},"group_name":{"type":"string","title":"Group Name"},"members":{"items":{"$ref":"#/components/schemas/GroupMemberInfo"},"type":"array","title":"Members"},"work_session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Work Session Id"},"session_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Status"}},"type":"object","required":["group_id","group_name","members"],"title":"MyGroupInfo"},"PasswordResetConfirm":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"token":{"type":"string","title":"Token"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","token","password"],"title":"PasswordResetConfirm"},"PasswordResetRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"PasswordResetRequest"},"PeerReviewRoundInfo":{"properties":{"id":{"type":"integer","title":"Id"},"assignment_id":{"type":"integer","title":"Assignment Id"},"status":{"type":"string","title":"Status"},"pairings":{"items":{},"type":"array","title":"Pairings"},"total_reviews":{"type":"integer","title":"Total Reviews"},"submitted_reviews":{"type":"integer","title":"Submitted Reviews"},"activated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Activated At"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At"}},"type":"object","required":["id","assignment_id","status","pairings","total_reviews","submitted_reviews"],"title":"PeerReviewRoundInfo"},"PeerReviewSubmitRequest":{"properties":{"comments":{"additionalProperties":true,"type":"object","title":"Comments"},"score":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":1.0},{"type":"null"}],"title":"Score"}},"type":"object","title":"PeerReviewSubmitRequest"},"PermissionCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"PermissionCreate"},"PermissionRead":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","id"],"title":"PermissionRead"},"QuizPublicResponse":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_questions":{"type":"integer","title":"Total Questions"},"time_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Limit"},"questions":{"items":{"$ref":"#/components/schemas/QuizQuestion"},"type":"array","title":"Questions"}},"type":"object","required":["title","description","total_questions","time_limit","questions"],"title":"QuizPublicResponse","description":"Thông tin quiz công khai (cho học sinh)"},"QuizQuestion":{"properties":{"id":{"type":"string","title":"Id"},"question":{"type":"string","title":"Question"},"type":{"type":"string","title":"Type","default":"multiple_choice"},"options":{"additionalProperties":{"type":"string"},"type":"object","title":"Options"},"correct_answer":{"type":"string","title":"Correct Answer"}},"type":"object","required":["id","question","options","correct_answer"],"title":"QuizQuestion","description":"Câu hỏi trắc nghiệm - chỉ hỗ trợ chọn 1 đáp án đúng"},"QuizQuestionInput":{"properties":{"question":{"type":"string","title":"Question"},"A":{"type":"string","title":"A"},"B":{"type":"string","title":"B"},"C":{"type":"string","title":"C"},"D":{"type":"string","title":"D"},"answer":{"type":"string","title":"Answer"}},"type":"object","required":["question","A","B","C","D","answer"],"title":"QuizQuestionInput","description":"Câu hỏi trắc nghiệm từ LLM JSON"},"QuizQuestionItem":{"properties":{"question":{"type":"string","title":"Question","description":"Nội dung câu hỏi"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type","description":"Loại: multiple_choice (mặc định) hoặc multiple_select"},"A":{"type":"string","title":"A","description":"Đáp án A"},"B":{"type":"string","title":"B","description":"Đáp án B"},"C":{"type":"string","title":"C","description":"Đáp án C"},"D":{"type":"string","title":"D","description":"Đáp án D"},"answer":{"type":"string","title":"Answer","description":"Đáp án đúng: 1 chữ cái (VD: A) hoặc nhiều chữ cái (VD: A,C)"}},"type":"object","required":["question","A","B","C","D","answer"],"title":"QuizQuestionItem","description":"Một câu hỏi trắc nghiệm - hỗ trợ multiple_choice và multiple_select"},"QuizResponseItem":{"properties":{"id":{"type":"integer","title":"Id"},"student_name":{"type":"string","title":"Student Name"},"student_class":{"type":"string","title":"Student Class"},"student_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Email"},"score":{"type":"integer","title":"Score"},"total_correct":{"type":"integer","title":"Total Correct"},"total_questions":{"type":"integer","title":"Total Questions"},"percentage":{"type":"number","title":"Percentage"},"submitted_at":{"type":"string","format":"date-time","title":"Submitted At"},"time_spent":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Spent"}},"type":"object","required":["id","student_name","student_class","student_email","score","total_correct","total_questions","percentage","submitted_at","time_spent"],"title":"QuizResponseItem","description":"Thông tin bài làm của học sinh"},"QuizResponsesListResponse":{"properties":{"quiz_title":{"type":"string","title":"Quiz Title"},"total_responses":{"type":"integer","title":"Total Responses"},"responses":{"items":{"$ref":"#/components/schemas/QuizResponseItem"},"type":"array","title":"Responses"}},"type":"object","required":["quiz_title","total_responses","responses"],"title":"QuizResponsesListResponse","description":"Danh sách bài làm của học sinh"},"QuizStatisticsResponse":{"properties":{"total_responses":{"type":"integer","title":"Total Responses"},"average_score":{"type":"number","title":"Average Score"},"highest_score":{"type":"number","title":"Highest Score"},"lowest_score":{"type":"number","title":"Lowest Score"},"average_time_spent":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Average Time Spent"},"score_distribution":{"additionalProperties":{"type":"integer"},"type":"object","title":"Score Distribution"}},"type":"object","required":["total_responses","average_score","highest_score","lowest_score","score_distribution"],"title":"QuizStatisticsResponse","description":"Thống kê quiz"},"RecentUser":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","email","is_active","is_verified","created_at"],"title":"RecentUser"},"RelatedAppendix":{"properties":{"section_id":{"type":"string","title":"Section Id","description":"ID của phụ lục"},"section_type":{"type":"string","title":"Section Type","description":"Loại phụ lục: phieu_hoc_tap, trac_nghiem"},"title":{"type":"string","title":"Title","description":"Tiêu đề phụ lục"},"content":{"type":"string","title":"Content","description":"Nội dung phụ lục"}},"type":"object","required":["section_id","section_type","title","content"],"title":"RelatedAppendix","description":"Phụ lục liên quan đến section"},"RoleCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"RoleCreate"},"RolePermissionUpdate":{"properties":{"permission_ids":{"items":{"type":"integer"},"type":"array","title":"Permission Ids"}},"type":"object","required":["permission_ids"],"title":"RolePermissionUpdate"},"RoleRead":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"integer","title":"Id"},"permissions":{"items":{"$ref":"#/components/schemas/PermissionRead"},"type":"array","title":"Permissions","default":[]}},"type":"object","required":["name","id"],"title":"RoleRead"},"RunCodeRequest":{"properties":{"code":{"type":"string","maxLength":50000,"minLength":1,"title":"Code"},"language":{"type":"string","title":"Language","default":"python"},"stdin":{"type":"string","maxLength":10000,"title":"Stdin","default":""}},"type":"object","required":["code"],"title":"RunCodeRequest","description":"Request chạy code (không chấm điểm)"},"RunCodeResponse":{"properties":{"stdout":{"type":"string","title":"Stdout"},"stderr":{"type":"string","title":"Stderr"},"exit_code":{"type":"integer","title":"Exit Code"},"execution_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Execution Time Ms"},"timed_out":{"type":"boolean","title":"Timed Out","default":false}},"type":"object","required":["stdout","stderr","exit_code"],"title":"RunCodeResponse","description":"Response sau khi chạy code"},"SaveLessonPlanRequest":{"properties":{"title":{"type":"string","title":"Title","description":"Tiêu đề giáo án"},"lesson_info":{"additionalProperties":{"type":"string"},"type":"object","title":"Lesson Info","description":"Thông tin bài học"},"sections":{"items":{"$ref":"#/components/schemas/SavedLessonPlanSection"},"type":"array","title":"Sections","description":"Các section đã chỉnh sửa"},"full_content":{"type":"string","title":"Full Content","description":"Nội dung đầy đủ dạng Markdown"},"activities":{"anyOf":[{"items":{"$ref":"#/components/schemas/ActivityConfig"},"type":"array"},{"type":"null"}],"title":"Activities","description":"Cấu hình hoạt động đã chọn"},"original_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original Content","description":"Nội dung gốc trước khi chỉnh sửa"},"is_printed":{"type":"boolean","title":"Is Printed","description":"Đánh dấu là đã in","default":false}},"type":"object","required":["title","lesson_info","sections","full_content"],"title":"SaveLessonPlanRequest","description":"Request để lưu giáo án"},"SaveLessonPlanResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID của giáo án đã lưu"},"message":{"type":"string","title":"Message","default":"Lưu giáo án thành công"}},"type":"object","required":["id"],"title":"SaveLessonPlanResponse","description":"Response sau khi lưu giáo án"},"SavedLessonPlanListItem":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"lesson_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lesson Name"},"book_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Book Type"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"topic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Topic"},"is_printed":{"type":"boolean","title":"Is Printed","default":false},"print_count":{"type":"integer","title":"Print Count","default":0},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["id","title","created_at","updated_at"],"title":"SavedLessonPlanListItem","description":"Item trong danh sách giáo án đã lưu"},"SavedLessonPlanListResponse":{"properties":{"lesson_plans":{"items":{"$ref":"#/components/schemas/SavedLessonPlanListItem"},"type":"array","title":"Lesson Plans"},"total":{"type":"integer","title":"Total","default":0},"page":{"type":"integer","title":"Page","default":1},"page_size":{"type":"integer","title":"Page Size","default":10}},"type":"object","title":"SavedLessonPlanListResponse","description":"Response danh sách giáo án đã lưu"},"SavedLessonPlanRead":{"properties":{"id":{"type":"integer","title":"Id","description":"ID của giáo án"},"user_id":{"type":"integer","title":"User Id","description":"ID người dùng"},"title":{"type":"string","title":"Title"},"book_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Book Type"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"topic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Topic"},"lesson_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lesson Name"},"lesson_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lesson Id"},"content":{"type":"string","title":"Content"},"sections":{"anyOf":[{"items":{"$ref":"#/components/schemas/SavedLessonPlanSection"},"type":"array"},{"type":"null"}],"title":"Sections"},"generation_params":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Generation Params"},"original_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original Content"},"is_printed":{"type":"boolean","title":"Is Printed","default":false},"print_count":{"type":"integer","title":"Print Count","default":0},"created_at":{"type":"string","title":"Created At","description":"Thời gian tạo"},"updated_at":{"type":"string","title":"Updated At","description":"Thời gian cập nhật"}},"type":"object","required":["id","user_id","title","content","created_at","updated_at"],"title":"SavedLessonPlanRead","description":"Giáo án đã lưu (response)"},"SavedLessonPlanSection":{"properties":{"section_id":{"type":"string","title":"Section Id"},"section_type":{"type":"string","title":"Section Type"},"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"mindmap_data":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mindmap Data"},"editable":{"type":"boolean","title":"Editable","default":true}},"type":"object","required":["section_id","section_type","title","content"],"title":"SavedLessonPlanSection","description":"Section đã lưu"},"SharedQuizResponse":{"properties":{"id":{"type":"integer","title":"Id"},"share_code":{"type":"string","title":"Share Code"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_questions":{"type":"integer","title":"Total Questions"},"time_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Limit"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"is_active":{"type":"boolean","title":"Is Active"},"show_correct_answers":{"type":"boolean","title":"Show Correct Answers"},"allow_multiple_attempts":{"type":"boolean","title":"Allow Multiple Attempts"},"response_count":{"type":"integer","title":"Response Count"},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info"}},"type":"object","required":["id","share_code","title","description","total_questions","time_limit","created_at","expires_at","is_active","show_correct_answers","allow_multiple_attempts","response_count"],"title":"SharedQuizResponse","description":"Thông tin quiz (cho giáo viên)"},"SharedWorksheetListResponse":{"properties":{"worksheets":{"items":{"$ref":"#/components/schemas/SharedWorksheetResponse"},"type":"array","title":"Worksheets"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["worksheets","total"],"title":"SharedWorksheetListResponse","description":"Danh sách phiếu học tập đã chia sẻ"},"SharedWorksheetResponse":{"properties":{"id":{"type":"integer","title":"Id"},"share_code":{"type":"string","title":"Share Code"},"share_url":{"type":"string","title":"Share Url"},"title":{"type":"string","title":"Title"},"is_active":{"type":"boolean","title":"Is Active"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"max_submissions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Submissions"},"response_count":{"type":"integer","title":"Response Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"lesson_info":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Lesson Info"}},"type":"object","required":["id","share_code","share_url","title","is_active","expires_at","max_submissions","response_count","created_at"],"title":"SharedWorksheetResponse","description":"Response thông tin phiếu học tập đã chia sẻ"},"StartSessionRequest":{"properties":{"student_name":{"type":"string","maxLength":200,"minLength":1,"title":"Student Name"},"student_class":{"type":"string","maxLength":100,"minLength":1,"title":"Student Class"}},"type":"object","required":["student_name","student_class"],"title":"StartSessionRequest","description":"Request để bắt đầu phiên làm bài"},"StartSessionResponse":{"properties":{"session_token":{"type":"string","title":"Session Token"}},"type":"object","required":["session_token"],"title":"StartSessionResponse","description":"Response trả về session token"},"StaticDataResponse":{"properties":{"book_types":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Book Types"},"grades":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Grades"},"methods":{"items":{"$ref":"#/components/schemas/TeachingMethodItem"},"type":"array","title":"Methods"},"techniques":{"items":{"$ref":"#/components/schemas/TeachingTechniqueItem"},"type":"array","title":"Techniques"}},"type":"object","required":["book_types","grades","methods","techniques"],"title":"StaticDataResponse","description":"Response chứa dữ liệu tĩnh cho frontend"},"StudentAssignmentInfo":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"content_type":{"type":"string","title":"Content Type"},"content_id":{"type":"integer","title":"Content Id"},"work_type":{"type":"string","title":"Work Type"},"is_active":{"type":"boolean","title":"Is Active"},"due_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due Date"},"lesson_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Lesson Info"},"classroom_id":{"type":"integer","title":"Classroom Id"},"classroom_name":{"type":"string","title":"Classroom Name"},"status":{"type":"string","title":"Status","default":"not_started"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","title","content_type","content_id","work_type","is_active","classroom_id","classroom_name","created_at"],"title":"StudentAssignmentInfo"},"StudentClassroomInfo":{"properties":{"classroom_id":{"type":"integer","title":"Classroom Id"},"classroom_name":{"type":"string","title":"Classroom Name"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"school_year":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"School Year"},"student_id":{"type":"integer","title":"Student Id"},"student_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Code"}},"type":"object","required":["classroom_id","classroom_name","student_id"],"title":"StudentClassroomInfo"},"StudentDashboardResponse":{"properties":{"classrooms":{"items":{"$ref":"#/components/schemas/StudentClassroomInfo"},"type":"array","title":"Classrooms"},"assignments":{"items":{"$ref":"#/components/schemas/StudentAssignmentInfo"},"type":"array","title":"Assignments"}},"type":"object","required":["classrooms","assignments"],"title":"StudentDashboardResponse"},"StudentGroupRead":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"members":{"items":{"$ref":"#/components/schemas/GroupMemberRead"},"type":"array","title":"Members","default":[]},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","name"],"title":"StudentGroupRead"},"StudentLoginRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"StudentLoginRequest"},"StudentUploadResponse":{"properties":{"total_uploaded":{"type":"integer","title":"Total Uploaded"},"total_created":{"type":"integer","title":"Total Created"},"total_skipped":{"type":"integer","title":"Total Skipped"},"skipped_details":{"items":{"type":"string"},"type":"array","title":"Skipped Details","default":[]},"students":{"items":{"$ref":"#/components/schemas/ClassStudentRead"},"type":"array","title":"Students","default":[]}},"type":"object","required":["total_uploaded","total_created","total_skipped"],"title":"StudentUploadResponse"},"SubmissionItem":{"properties":{"id":{"type":"integer","title":"Id"},"student_name":{"type":"string","title":"Student Name"},"student_class":{"type":"string","title":"Student Class"},"student_group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Group"},"status":{"type":"string","title":"Status"},"total_tests":{"type":"integer","title":"Total Tests"},"passed_tests":{"type":"integer","title":"Passed Tests"},"percentage":{"type":"number","title":"Percentage"},"code":{"type":"string","title":"Code"},"submitted_at":{"type":"string","format":"date-time","title":"Submitted At"},"execution_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Execution Time Ms"}},"type":"object","required":["id","student_name","student_class","student_group","status","total_tests","passed_tests","percentage","code","submitted_at","execution_time_ms"],"title":"SubmissionItem","description":"Thông tin bài nộp (cho giáo viên xem)"},"SubmissionsListResponse":{"properties":{"exercise_title":{"type":"string","title":"Exercise Title"},"total_submissions":{"type":"integer","title":"Total Submissions"},"submissions":{"items":{"$ref":"#/components/schemas/SubmissionItem"},"type":"array","title":"Submissions"}},"type":"object","required":["exercise_title","total_submissions","submissions"],"title":"SubmissionsListResponse","description":"Danh sách bài nộp"},"SubmitAnswersRequest":{"properties":{"answers":{"additionalProperties":true,"type":"object","title":"Answers"}},"type":"object","required":["answers"],"title":"SubmitAnswersRequest"},"SubmitCodeRequest":{"properties":{"student_name":{"type":"string","maxLength":200,"minLength":1,"title":"Student Name"},"student_class":{"type":"string","maxLength":100,"minLength":1,"title":"Student Class"},"student_group":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Student Group"},"code":{"type":"string","maxLength":50000,"minLength":1,"title":"Code"},"language":{"type":"string","title":"Language","default":"python"},"session_token":{"type":"string","title":"Session Token","description":"Token phiên làm bài từ start-session"}},"type":"object","required":["student_name","student_class","code","session_token"],"title":"SubmitCodeRequest","description":"Request nộp bài"},"SubmitCodeResponse":{"properties":{"submission_id":{"type":"integer","title":"Submission Id"},"status":{"type":"string","title":"Status"},"total_tests":{"type":"integer","title":"Total Tests"},"passed_tests":{"type":"integer","title":"Passed Tests"},"percentage":{"type":"number","title":"Percentage"},"test_results":{"items":{"$ref":"#/components/schemas/TestResultItem"},"type":"array","title":"Test Results"},"execution_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Execution Time Ms"}},"type":"object","required":["submission_id","status","total_tests","passed_tests","percentage","test_results"],"title":"SubmitCodeResponse","description":"Response sau khi nộp bài"},"SubmitQuizRequest":{"properties":{"student_name":{"type":"string","maxLength":200,"minLength":1,"title":"Student Name"},"student_class":{"type":"string","maxLength":100,"minLength":1,"title":"Student Class"},"student_group":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Student Group","description":"Nhóm (nếu có)"},"student_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Email"},"answers":{"additionalProperties":{"type":"string"},"type":"object","title":"Answers"},"time_spent":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Spent"},"session_token":{"type":"string","title":"Session Token","description":"Token phiên làm bài từ start-session"}},"type":"object","required":["student_name","student_class","answers","session_token"],"title":"SubmitQuizRequest","description":"Request nộp bài quiz"},"SubmitQuizResponse":{"properties":{"response_id":{"type":"integer","title":"Response Id"},"score":{"type":"integer","title":"Score"},"total_correct":{"type":"integer","title":"Total Correct"},"total_questions":{"type":"integer","title":"Total Questions"},"percentage":{"type":"number","title":"Percentage"},"correct_answers":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Correct Answers"}},"type":"object","required":["response_id","score","total_correct","total_questions","percentage"],"title":"SubmitQuizResponse","description":"Response sau khi nộp bài"},"SubmitWorksheetRequest":{"properties":{"student_name":{"type":"string","title":"Student Name","description":"Họ tên học sinh"},"student_class":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Class","description":"Lớp"},"student_group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Group","description":"Nhóm (nếu có)"},"answers":{"additionalProperties":{"type":"string"},"type":"object","title":"Answers","description":"Câu trả lời theo format {question_id: answer}"},"session_token":{"type":"string","title":"Session Token","description":"Token phiên làm bài từ start-session"}},"type":"object","required":["student_name","answers","session_token"],"title":"SubmitWorksheetRequest","description":"Request học sinh submit câu trả lời"},"SubmitWorksheetResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"SubmitWorksheetResponse","description":"Response sau khi học sinh submit"},"TeachingMethodItem":{"properties":{"value":{"type":"string","title":"Value","description":"Tên phương pháp"},"label":{"type":"string","title":"Label","description":"Tên hiển thị"},"cach_tien_hanh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cach Tien Hanh","description":"Cách tiến hành"},"uu_diem":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uu Diem","description":"Ưu điểm"},"nhuoc_diem":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nhuoc Diem","description":"Nhược điểm"}},"type":"object","required":["value","label"],"title":"TeachingMethodItem","description":"Thông tin phương pháp dạy học từ Neo4j"},"TeachingTechniqueItem":{"properties":{"value":{"type":"string","title":"Value","description":"Tên kỹ thuật"},"label":{"type":"string","title":"Label","description":"Tên hiển thị"},"cach_tien_hanh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cach Tien Hanh","description":"Cách tiến hành"},"uu_diem":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uu Diem","description":"Ưu điểm"},"nhuoc_diem":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nhuoc Diem","description":"Nhược điểm"},"bo_sung":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bo Sung","description":"Bổ sung"}},"type":"object","required":["value","label"],"title":"TeachingTechniqueItem","description":"Thông tin kỹ thuật dạy học từ Neo4j"},"TestCaseInput":{"properties":{"input":{"type":"string","title":"Input","default":""},"expected_output":{"type":"string","title":"Expected Output"},"is_hidden":{"type":"boolean","title":"Is Hidden","default":false}},"type":"object","required":["expected_output"],"title":"TestCaseInput","description":"Test case cho bài tập"},"TestCasePublic":{"properties":{"input":{"type":"string","title":"Input"},"expected_output":{"type":"string","title":"Expected Output"}},"type":"object","required":["input","expected_output"],"title":"TestCasePublic","description":"Test case công khai (không bao gồm hidden)"},"TestResultItem":{"properties":{"test_num":{"type":"integer","title":"Test Num"},"input":{"type":"string","title":"Input"},"expected_output":{"type":"string","title":"Expected Output"},"actual_output":{"type":"string","title":"Actual Output"},"passed":{"type":"boolean","title":"Passed"},"is_hidden":{"type":"boolean","title":"Is Hidden","default":false},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["test_num","input","expected_output","actual_output","passed"],"title":"TestResultItem","description":"Kết quả từng test case"},"TokenBalanceUpdate":{"properties":{"token_balance":{"type":"integer","title":"Token Balance"}},"type":"object","required":["token_balance"],"title":"TokenBalanceUpdate"},"TopTeacher":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"lesson_plan_count":{"type":"integer","title":"Lesson Plan Count"},"quiz_count":{"type":"integer","title":"Quiz Count"},"worksheet_count":{"type":"integer","title":"Worksheet Count"},"code_exercise_count":{"type":"integer","title":"Code Exercise Count"},"total_content":{"type":"integer","title":"Total Content"}},"type":"object","required":["id","email","lesson_plan_count","quiz_count","worksheet_count","code_exercise_count","total_content"],"title":"TopTeacher"},"TopicsResponse":{"properties":{"topics":{"items":{"type":"string"},"type":"array","title":"Topics","description":"Danh sách chủ đề"}},"type":"object","title":"TopicsResponse","description":"Response chứa danh sách chủ đề theo sách và lớp"},"UpdateCodeExerciseRequest":{"properties":{"starter_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Starter Code"},"test_cases":{"anyOf":[{"items":{"$ref":"#/components/schemas/TestCaseInput"},"type":"array"},{"type":"null"}],"title":"Test Cases"}},"type":"object","title":"UpdateCodeExerciseRequest","description":"Request cập nhật bài tập"},"UpdateLessonPlanRequest":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Tiêu đề giáo án mới"},"sections":{"anyOf":[{"items":{"$ref":"#/components/schemas/SavedLessonPlanSection"},"type":"array"},{"type":"null"}],"title":"Sections","description":"Các section đã chỉnh sửa"},"full_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Content","description":"Nội dung đầy đủ dạng Markdown"}},"type":"object","title":"UpdateLessonPlanRequest","description":"Request để cập nhật giáo án đã lưu"},"UpdateQuizRequest":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"questions":{"anyOf":[{"items":{"$ref":"#/components/schemas/QuizQuestion"},"type":"array"},{"type":"null"}],"title":"Questions"},"time_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Limit"},"show_correct_answers":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Show Correct Answers"}},"type":"object","title":"UpdateQuizRequest","description":"Request cập nhật quiz"},"UpdateWorksheetRequest":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Tiêu đề mới"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Nội dung markdown mới"}},"type":"object","title":"UpdateWorksheetRequest","description":"Request cập nhật phiếu học tập"},"UpdatedAppendix":{"properties":{"section_id":{"type":"string","title":"Section Id","description":"ID của phụ lục"},"improved_content":{"type":"string","title":"Improved Content","description":"Nội dung phụ lục đã cập nhật"}},"type":"object","required":["section_id","improved_content"],"title":"UpdatedAppendix","description":"Phụ lục đã được cập nhật"},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserCreate"},"UserProfileRead":{"properties":{"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["id"],"title":"UserProfileRead"},"UserProfileUpdate":{"properties":{"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"}},"type":"object","title":"UserProfileUpdate"},"UserRead":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"token_balance":{"type":"integer","title":"Token Balance","default":20000},"created_at":{"type":"string","format":"date-time","title":"Created At"},"roles":{"items":{"$ref":"#/components/schemas/RoleRead"},"type":"array","title":"Roles","default":[]},"profile":{"anyOf":[{"$ref":"#/components/schemas/UserProfileRead"},{"type":"null"}]},"settings":{"anyOf":[{"$ref":"#/components/schemas/UserSettingsRead"},{"type":"null"}]}},"type":"object","required":["id","email","is_active","is_verified","created_at"],"title":"UserRead"},"UserRoleUpdate":{"properties":{"role_ids":{"items":{"type":"integer"},"type":"array","title":"Role Ids"}},"type":"object","required":["role_ids"],"title":"UserRoleUpdate"},"UserSettingsRead":{"properties":{"theme":{"type":"string","title":"Theme","default":"system"},"language":{"type":"string","title":"Language","default":"en"},"marketing_emails_enabled":{"type":"boolean","title":"Marketing Emails Enabled","default":true},"push_notifications_enabled":{"type":"boolean","title":"Push Notifications Enabled","default":true},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"},"teaching_tools":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Teaching Tools"},"custom_tools":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Custom Tools"},"teaching_style":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Teaching Style"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["id"],"title":"UserSettingsRead"},"UserSettingsUpdate":{"properties":{"theme":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Theme"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"marketing_emails_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Marketing Emails Enabled"},"push_notifications_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Push Notifications Enabled"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"},"teaching_tools":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Teaching Tools"},"custom_tools":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Custom Tools"},"teaching_style":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Teaching Style"}},"type":"object","title":"UserSettingsUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WorksheetPublicResponse":{"properties":{"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"lesson_info":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Lesson Info"},"questions":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Questions"},"is_active":{"type":"boolean","title":"Is Active"},"teacher_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Teacher Name"}},"type":"object","required":["title","content","lesson_info","questions","is_active"],"title":"WorksheetPublicResponse","description":"Response phiếu học tập cho học sinh (public)"},"WorksheetResponseItem":{"properties":{"id":{"type":"integer","title":"Id"},"student_name":{"type":"string","title":"Student Name"},"student_class":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Class"},"answers":{"additionalProperties":{"type":"string"},"type":"object","title":"Answers"},"submitted_at":{"type":"string","format":"date-time","title":"Submitted At"}},"type":"object","required":["id","student_name","student_class","answers","submitted_at"],"title":"WorksheetResponseItem","description":"Một câu trả lời của học sinh"},"WorksheetResponsesListResponse":{"properties":{"worksheet_id":{"type":"integer","title":"Worksheet Id"},"title":{"type":"string","title":"Title"},"total_responses":{"type":"integer","title":"Total Responses"},"responses":{"items":{"$ref":"#/components/schemas/WorksheetResponseItem"},"type":"array","title":"Responses"}},"type":"object","required":["worksheet_id","title","total_responses","responses"],"title":"WorksheetResponsesListResponse","description":"Danh sách câu trả lời của học sinh"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}